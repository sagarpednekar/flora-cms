generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String     @id @default(uuid())
  email        String     @unique
  passwordHash String     @map("password_hash")
  firstName    String     @map("first_name")
  lastName     String     @map("last_name")
  active       Boolean    @default(true)
  createdAt    DateTime   @default(now()) @map("created_at")
  roles        UserRole[]
}

model Role {
  id          String     @id @default(uuid())
  name        String     @unique
  description String?
  users       UserRole[]
}

model UserRole {
  userId String @map("user_id")
  roleId String @map("role_id")
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  role   Role   @relation(fields: [roleId], references: [id], onDelete: Cascade)

  @@unique([userId, roleId])
  @@map("user_roles")
}

enum BookName {
  Charaka_Samhita    @map("Charaka Samhita")
  Sushruta_Samhita   @map("Sushruta Samhita")
  Ashtang_Hridaya   @map("Ashtang Hridaya")
  Ashtang_Samgraha  @map("Ashtang Samgraha")
}

enum Sthana {
  Chikitsa_Sthana     @map("Chikitsa Sthana")
  Indriya_Sthana      @map("Indriya Sthana")
  Kalpa_Sthana        @map("Kalpa Sthana")
  Kalpa_siddhi_Sthana @map("Kalpa siddhi Sthana")
  Kalpana_Sthana      @map("Kalpana Sthana")
  Nidana_Sthana       @map("Nidana Sthana")
  Sharir_Sthana       @map("Sharir Sthana")
  Sidhi_Sthana        @map("Sidhi Sthana")
  Sutra_Sthana        @map("Sutra Sthana")
  Uttar_Tantra        @map("Uttar Tantra")
  Vimana_Sthana       @map("Vimana Sthana")
}

enum ChapterNumber {
  Chapter_1  @map("Chapter 1")
  Chapter_2  @map("Chapter 2")
  Chapter_3  @map("Chapter 3")
  Chapter_4  @map("Chapter 4")
  Chapter_5  @map("Chapter 5")
  Chapter_6  @map("Chapter 6")
  Chapter_7  @map("Chapter 7")
  Chapter_8  @map("Chapter 8")
  Chapter_9  @map("Chapter 9")
  Chapter_10 @map("Chapter 10")
  Chapter_11 @map("Chapter 11")
  Chapter_12 @map("Chapter 12")
  Chapter_13 @map("Chapter 13")
  Chapter_14 @map("Chapter 14")
  Chapter_15 @map("Chapter 15")
  Chapter_16 @map("Chapter 16")
  Chapter_17 @map("Chapter 17")
  Chapter_18 @map("Chapter 18")
  Chapter_19 @map("Chapter 19")
  Chapter_20 @map("Chapter 20")
  Chapter_21 @map("Chapter 21")
  Chapter_22 @map("Chapter 22")
  Chapter_23 @map("Chapter 23")
  Chapter_24 @map("Chapter 24")
  Chapter_25 @map("Chapter 25")
  Chapter_26 @map("Chapter 26")
  Chapter_27 @map("Chapter 27")
  Chapter_28 @map("Chapter 28")
  Chapter_29 @map("Chapter 29")
  Chapter_30 @map("Chapter 30")
  Chapter_31 @map("Chapter 31")
  Chapter_32 @map("Chapter 32")
  Chapter_33 @map("Chapter 33")
  Chapter_34 @map("Chapter 34")
  Chapter_35 @map("Chapter 35")
  Chapter_36 @map("Chapter 36")
  Chapter_37 @map("Chapter 37")
  Chapter_38 @map("Chapter 38")
  Chapter_39 @map("Chapter 39")
  Chapter_40 @map("Chapter 40")
  Chapter_41 @map("Chapter 41")
  Chapter_42 @map("Chapter 42")
  Chapter_43 @map("Chapter 43")
  Chapter_44 @map("Chapter 44")
  Chapter_45 @map("Chapter 45")
  Chapter_46 @map("Chapter 46")
  Chapter_47 @map("Chapter 47")
  Chapter_48 @map("Chapter 48")
  Chapter_49 @map("Chapter 49")
  Chapter_50 @map("Chapter 50")
}

enum SingleOrCombinationDrug {
  Single
  Combination
  Both
  Other
}

enum UserExtOrInt {
  INT
  EXT
}

model FloraSpecies {
  id                       String                   @id @default(uuid())
  drugName                 String                   @map("drug_name")
  sanskritName             String?                  @map("sanskrit_name")
  latinName                String?                  @map("latin_name")
  remarks                  String?                  @db.Text
  partOfPlantUsed          String?                  @map("part_of_plant_used")
  bookName                 BookName                 @default(Charaka_Samhita) @map("book_name")
  sthana                   Sthana?                  @default(Chikitsa_Sthana) @map("Sthana")
  chapterNumber            ChapterNumber?          @default(Chapter_1) @map("Chapter_number")
  verseNumber              Int?                     @map("verse_number")
  singleOrCombinationDrug  SingleOrCombinationDrug? @default(Single) @map("single_or_combination_drug")
  formulationAsSingleDrug  String?                  @default("NA") @map("formulation_as_a_single_drug")
  formulationAsCombination String?                  @default("NA") @map("formulation_as_combination")
  nameOfCombination        String?                  @default("NA") @map("name_of_the_combination")
  userExtOrInt             UserExtOrInt?            @default(INT) @map("user_ext_or_int")
  typeOfExtUse             String?                  @map("type_of_ext_use")
  enteralRoute             String?                  @map("enteral_route")
  parenteralRoute          String?                  @map("parenteral_route")
  usesAsSingleDrug         String?                  @default("NA") @map("uses_as_single_drug")
  usesAsCombination        String?                  @default("NA") @map("uses_as_combination")
  anupana                  String?
  granthadikara            String?
  rogadhikara              String?
  sahapana                 String?
  published                Boolean                  @default(false)
  createdAt                DateTime                 @default(now()) @map("created_at")
  updatedAt                DateTime                 @updatedAt @map("updated_at")
}

model Setting {
  id    String @id @default(uuid())
  key   String @unique
  value String
}
